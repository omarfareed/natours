{"id":"Uj2q","dependencies":[{"name":"/home/omarfareed/vscode/web/backend/projects/natours-app/package.json","includedInParent":true,"mtime":1631416496122}],"generated":{"js":"\"use strict\";function e(e,r,t,n,o,s,c){try{var i=e[s](c),u=i.value}catch(a){return void t(a)}i.done?r(u):Promise.resolve(u).then(n,o)}function r(r){return function(){var t=this,n=arguments;return new Promise(function(o,s){var c=r.apply(t,n);function i(r){e(c,o,s,i,u,\"next\",r)}function u(r){e(c,o,s,i,u,\"throw\",r)}i(void 0)})}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bookTour=void 0;var t=Stripe(\"pk_test_51JYRhODix4r2vkMx3Jp8rrWXaOKpo3K6IBMC6kmKC0zbs3swNbklUrr2cr5BQZd2ElNq7jK2mAln6p8RoFD6pYnP00ZUT67RrP\"),n=function(){var e=r(regeneratorRuntime.mark(function e(r){var n,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"api/v1/bookings/checkout-session/\".concat(r),{method:\"GET\"});case 3:return n=e.sent,e.next=6,n.json();case 6:return o=e.sent,s=o.session.id,e.next=10,t.redirectToCheckout({sessionId:s});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case\"end\":return e.stop()}},e,null,[[0,12]])}));return function(r){return e.apply(this,arguments)}}();exports.bookTour=n;"},"sourceMaps":{"js":{"mappings":[{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":0}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":13}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":22}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":24}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":26}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":28}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":30}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":32}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":34}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":36}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":39}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":43}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":47}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":49}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":51}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":54}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":57}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":59}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":61}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":67}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":73}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":76}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":88}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":90}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":93}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":95}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":100}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":102}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":105}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":113}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":121}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":124}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":129}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":131}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":134}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":143}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":145}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":148}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":155}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":166}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":170}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":172}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":177}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":179}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":189}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":196}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":200}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":208}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":217}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":219}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":222}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":226}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":228}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":230}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":236}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":238}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":241}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":250}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":252}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":255}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":257}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":259}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":261}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":263}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":265}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":267}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":274}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":277}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":286}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":288}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":291}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":293}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":295}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":297}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":299}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":301}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":303}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":311}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":314}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":321}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":327}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":334}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":349}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":357}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":370}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":371}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":378}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":382}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":390}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":404}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":406}},{"source":"stripe.js","name":"stripe","original":{"line":1,"column":6},"generated":{"line":1,"column":410}},{"source":"stripe.js","name":"Stripe","original":{"line":1,"column":15},"generated":{"line":1,"column":412}},{"source":"stripe.js","original":{"line":2,"column":2},"generated":{"line":1,"column":419}},{"source":"stripe.js","name":"bookTour","original":{"line":4,"column":13},"generated":{"line":1,"column":530}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":532}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":543}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":547}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":549}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":551}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":570}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":575}},{"source":"stripe.js","name":"tourId","original":{"line":4,"column":30},"generated":{"line":1,"column":584}},{"source":"stripe.js","name":"tourId","original":{"line":4,"column":30},"generated":{"line":1,"column":586}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":589}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":593}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":595}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":597}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":599}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":606}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":625}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":630}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":639}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":642}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":649}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":656}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":658}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":663}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":665}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":671}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":676}},{"source":"stripe.js","name":"fetch","original":{"line":6,"column":26},"generated":{"line":1,"column":678}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":685}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":687}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":692}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":694}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":696}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":701}},{"source":"stripe.js","name":"fetch","original":{"line":6,"column":26},"generated":{"line":1,"column":703}},{"source":"stripe.js","name":"tourId","original":{"line":7,"column":42},"generated":{"line":1,"column":709}},{"source":"stripe.js","name":"tourId","original":{"line":7,"column":42},"generated":{"line":1,"column":745}},{"source":"stripe.js","name":"tourId","original":{"line":7,"column":42},"generated":{"line":1,"column":752}},{"source":"stripe.js","original":{"line":8,"column":6},"generated":{"line":1,"column":755}},{"source":"stripe.js","name":"method","original":{"line":9,"column":8},"generated":{"line":1,"column":756}},{"source":"stripe.js","original":{"line":9,"column":16},"generated":{"line":1,"column":763}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":771}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":776}},{"source":"stripe.js","name":"session","original":{"line":12,"column":30},"generated":{"line":1,"column":778}},{"source":"stripe.js","name":"session","original":{"line":6,"column":10},"generated":{"line":1,"column":785}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":787}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":789}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":794}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":796}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":801}},{"source":"stripe.js","name":"session","original":{"line":12,"column":30},"generated":{"line":1,"column":803}},{"source":"stripe.js","name":"json","original":{"line":12,"column":38},"generated":{"line":1,"column":805}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":812}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":817}},{"source":"stripe.js","name":"stripe","original":{"line":14,"column":10},"generated":{"line":1,"column":819}},{"source":"stripe.js","name":"sessionJSON","original":{"line":12,"column":10},"generated":{"line":1,"column":826}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":828}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":830}},{"source":"stripe.js","name":"sessionId","original":{"line":13,"column":10},"generated":{"line":1,"column":835}},{"source":"stripe.js","name":"sessionJSON","original":{"line":13,"column":22},"generated":{"line":1,"column":837}},{"source":"stripe.js","name":"session","original":{"line":13,"column":34},"generated":{"line":1,"column":839}},{"source":"stripe.js","name":"id","original":{"line":13,"column":42},"generated":{"line":1,"column":847}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":850}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":852}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":857}},{"source":"stripe.js","name":"stripe","original":{"line":14,"column":10},"generated":{"line":1,"column":860}},{"source":"stripe.js","name":"redirectToCheckout","original":{"line":14,"column":17},"generated":{"line":1,"column":862}},{"source":"stripe.js","original":{"line":14,"column":36},"generated":{"line":1,"column":881}},{"source":"stripe.js","name":"sessionId","original":{"line":15,"column":6},"generated":{"line":1,"column":882}},{"source":"stripe.js","name":"sessionId","original":{"line":15,"column":6},"generated":{"line":1,"column":892}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":896}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":901}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":904}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":906}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":911}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":914}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":920}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":925}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":928}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":930}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":935}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":938}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":940}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":943}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":945}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":951}},{"source":"stripe.js","name":"console","original":{"line":18,"column":4},"generated":{"line":1,"column":954}},{"source":"stripe.js","name":"log","original":{"line":18,"column":12},"generated":{"line":1,"column":962}},{"source":"stripe.js","original":{"line":18,"column":4},"generated":{"line":1,"column":966}},{"source":"stripe.js","original":{"line":18,"column":4},"generated":{"line":1,"column":968}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":972}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":977}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":980}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":984}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":990}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":997}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":999}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":1008}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":1010}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":1015}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":1016}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":1017}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":1019}},{"source":"stripe.js","name":"bookTour","original":{"line":4,"column":13},"generated":{"line":1,"column":1028}},{"source":"stripe.js","name":"bookTour","original":{"line":4,"column":13},"generated":{"line":1,"column":1035}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1044}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1047}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1054}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1056}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1062}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1067}},{"source":"stripe.js","original":{"line":4,"column":21},"generated":{"line":1,"column":1079}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":1082}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":1090}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":1099}}],"sources":{"stripe.js":"const stripe = Stripe(\n  'pk_test_51JYRhODix4r2vkMx3Jp8rrWXaOKpo3K6IBMC6kmKC0zbs3swNbklUrr2cr5BQZd2ElNq7jK2mAln6p8RoFD6pYnP00ZUT67RrP'\n);\nexport const bookTour = async tourId => {\n  try {\n    const session = await fetch(\n      `api/v1/bookings/checkout-session/${tourId}`,\n      {\n        method: 'GET'\n      }\n    );\n    const sessionJSON = await session.json();\n    const sessionId = sessionJSON.session.id;\n    await stripe.redirectToCheckout({\n      sessionId\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"27513983b199f95d3a9acbdb09ccdee0","cacheData":{"env":{}}}